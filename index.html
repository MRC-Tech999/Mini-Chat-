 <!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Recevez un email temporaire gratuit avec MARC-Tech. Envoi d'e-mail facile et rapide.">
  <meta name="keywords" content="email temporaire, temp mail, email jetable, marc-tech, mailsac, envoyer mail">
  <meta name="author" content="Marc-Tech">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://temporary-email-black.vercel.app/">
  <title>Temp Mail & Envoi - MARC-Tech</title>
  <style>
    body {font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; color: #333;}
    .box {background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
    .email {font-weight: bold; color: #007bff;}
    button {padding: 10px 15px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;}
    button:hover {background-color: #0056b3;}
    input, textarea {width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 5px;}
    .footer {text-align: center; font-size: 12px; color: #777;}
    .social-links {display: flex; justify-content: center; margin-top: 20px;}
    .social-links a {margin: 0 10px; width: 40px; height: 40px;}
    .social-links img {width: 100%; height: 100%;}
  </style>
</head>
<body>
  <h1>Marc-Tech | Temp Mail + Envoi</h1>

  <div class="box">
    <p>Votre email temporaire : <span class="email" id="emailDisplay"></span></p>
    <button onclick="getMessages()">Actualiser les messages</button>
    <button onclick="copyEmail()">Copier l'email</button>
  </div>

  <div id="messages" class="box"></div>

  <div class="box">
    <h2>Envoyer un e-mail</h2>
    <label>Destinataire :</label>
    <input type="email" id="recipientEmail" placeholder="exemple@domaine.com" required>

    <label>Email d’expéditeur (temporaire) :</label>
    <input type="email" id="senderEmail" placeholder="utilisé par l'API" required>

    <label>Sujet :</label>
    <input type="text" id="emailSubject" placeholder="Sujet de l’email">

    <label>Message :</label>
    <textarea id="emailBody" rows="5" placeholder="Contenu du message"></textarea>

    <button onclick="sendEmail()">Envoyer l’e-mail</button>
  </div>

  <div class="footer">
    <p>&copy; Marc-Tech 2025 - Tous droits réservés.</p>
    <p>Suivez-nous :</p>
    <div class="social-links">
      <a href="https://www.instagram.com/j.m.h.2024" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
      </a>
      <a href="https://whatsapp.com/channel/0029Vb6J7O684Om8DdNfvL2N" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
      </a>
    </div>
  </div>

  <script>
    const mailsacKey = 'k_SlFHIkRTITLDKtpxYoQ8JX0ua9pnKIyBgQ0537';
    let tempEmail = generateEmail();
    document.getElementById("emailDisplay").textContent = tempEmail;

    function generateEmail() {
      const random = Math.random().toString(36).substring(2, 10);
      return `${random}@mailsac.com`;
    }

    function getMessages() {
      fetch(`https://mailsac.com/api/addresses/${tempEmail}/messages`, {
        headers: { 'Mailsac-Key': mailsacKey }
      })
      .then(res => res.json())
      .then(messages => {
        const container = document.getElementById("messages");
        container.innerHTML = "";
        if (!messages.length) {
          container.innerHTML = "<p>Aucun message pour l'instant.</p>";
          return;
        }
        messages.forEach(msg => {
          const div = document.createElement("div");
          div.className = "box";
          div.innerHTML = `<strong>De :</strong> ${msg.from}<br><strong>Sujet :</strong> ${msg.subject}<br><button onclick="readMessage('${msg._id}')">Lire</button><div id="body-${msg._id}"></div>`;
          container.appendChild(div);
        });
      });
    }

    function readMessage(id) {
      fetch(`https://mailsac.com/api/text/${tempEmail}/${id}`, {
        headers: { 'Mailsac-Key': mailsacKey }
      })
      .then(res => res.text())
      .then(body => {
        document.getElementById(`body-${id}`).innerHTML = `<pre>${body}</pre>`;
      });
    }

    function copyEmail() {
      navigator.clipboard.writeText(tempEmail).then(() => {
        alert("Email copié !");
      });
    }

    function sendEmail() {
      const to = document.getElementById("recipientEmail").value;
      const replyTo = document.getElementById("senderEmail").value;
      const subject = document.getElementById("emailSubject").value;
      const body = document.getElementById("emailBody").value;

      fetch("https://sendmail-ultimate-email-sender.p.rapidapi.com/send-email", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "x-rapidapi-host": "sendmail-ultimate-email-sender.p.rapidapi.com",
          "x-rapidapi-key": "ab42dda446mshde4ba65d25b85fdp13b83ejsn3965c0519b7d"
        },
        body: JSON.stringify({
          sendTo: to,
          replyTo: replyTo,
          isHtml: false,
          title: subject,
          body: body
        })
      })
      .then(response => response.json())
      .then(data => {
        alert(data.success ? "Email envoyé avec succès !" : "Échec de l’envoi.");
      })
      .catch(err => {
        console.error(err);
        alert("Erreur lors de l'envoi.");
      });
    }
  </script>
</body>
</html>